# 题目描述

输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。

# 解题思路

此题考查二进制的知识点和将“十进制转换成二进制”在编程语言中的写法。其实后者往往被大家忽略，因为各种技巧性的API或操作让大家脱离了计算本身。

注：**计算机中是采用补码计算，所以无论是正数还是负数，讨论其二进制形式时，其实就是在讨论其补码。**

知识点：二进制的[补码](https://www.cnblogs.com/zengguowang/p/6074845.html)

- **正数的补码即原码；**
- **负数的补码就是在其原码的基础上，符号位不变，取反后加一。**

举个栗子：

比如，一个字节有8位，可以表示的数值范围在-128到+127。用二进制表示即为1000 0000 - 0111 1111（注意最高位表示符号）

最高位1的都是负数，最高位是0的都是整数。

如 7的原码是0000 0111，其补码即原码 0000 0111；

如 -7的原码是1000 0111，然后取反（注意最高符号位不变）得1111 1000，再加1得 1111 1001，那么-7的补码为1111 1001，该值也就是-7在计算机中的二进制形式。

再如-10的原码是 1000 1010，然后取反（注意最高符号位不变）的1111 0101，再加1的1111 0110，那么-10的补码为1111 0110，该值也就是-10在计算机中的二进制形式。

注：补码存在的意义就是为了统一计算机加减。

**思路1：**

1. 先判断输入整数是否为0，如果为0，直接输出0，反之继续判断该值的正负情况；

2. 如果是正数，则将十进制转换成二进制（按除以2来计算）；如果是负数，则先将2的（位数-1）次幂加上该负数，此时生成十进制正数，再将该十进制转换成二进制；

3. 统计二进制中 1的个数。对于正数，计算出的1的个数即为该正数二进制表示中1的个数；对于负数，计算出的1的个数再加1，即为该正数二进制表示中1的个数。

   如何统计二进制中1的个数呢？答：可以在将十进制转换成二进制时，统计余数不为1的数量；或者利用1与十进制数进行与操作，1并向左移动，移动次数为整型位数，如0000 0001。

注：此方法没有技巧，就是中规中矩的做法。

**思路2（推荐）：**

如果一个整数不为0，那么这个整数至少有一位是1。如果我们把这个整数减1，那么原来处在整数最右边的1就会变为0，原来在1后面的所有的0都会变成1(如果最右边的1后面还有0的话)。其余所有位将不会受到影响。

举个例子：一个二进制数1100，从右边数起第三位是处于最右边的一个1。减去1后，第三位变成0，它后面的两位0变成了1，而前面的1保持不变，因此得到的结果是1011.我们发现减1的结果是把最右边的一个1开始的所有位都取反了。这个时候如果我们再把原来的整数和减去1之后的结果做与运算，从原来整数最右边一个1那一位开始所有位都会变成0。如1100&1011=1000。也就是说，**把一个整数减去1，再和原整数做与运算，会把该整数最右边一个1变成0。那么一个整数的二进制有多少个1，就可以进行多少次这样的操作。**

注：上述方法技巧性十足，很考验观察和推导能力。

# 代码

[C++](NumberOf1InBinary.cpp)

```c++
class Solution {
public:
     int  NumberOf1(int n) {
         int count = 0;
         while(n!= 0){
             ++count;
             n = n & (n - 1);
         }
         return count;
         
     }
};
```

[Python](NumberOf1InBinary.py)

```python
# -*- coding:utf-8 -*-
class Solution:
    # 把一个整数减去1，再和原整数做与运算，会把该整数最右边一个1变成0。那么一个整数的二进制有多少个1，就可以进行多少次这样的操作。
    def NumberOf1(self, n):
        # write code here
        count, bit = 0, 1
        INT_BITS = 32 
        MAX_INT = (1 << (INT_BITS - 1)) - 1  # Maximum Integer for INT_BITS
        while n and bit <= MAX_INT + 1:
            if bit & n:
                count += 1
                n -= bit
            bit = bit << 1
        return count
```

注：C++/Python/JAVA中int整型不作说明，默认都为32位。

# 参考

【1】https://www.nowcoder.com/profile/9536154/codeBookDetail?submissionId=17465787

【2】https://www.cnblogs.com/klchang/p/8017627.html