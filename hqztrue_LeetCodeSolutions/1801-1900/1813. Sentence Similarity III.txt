greedily match prefix and suffix. O(n).

