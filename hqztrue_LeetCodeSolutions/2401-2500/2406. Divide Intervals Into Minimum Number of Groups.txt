The answer is the maximum depth. sorting + sweepline. O(sort(n)).

