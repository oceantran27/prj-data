use nth_element to find the median. see 280. Wiggle Sort.

