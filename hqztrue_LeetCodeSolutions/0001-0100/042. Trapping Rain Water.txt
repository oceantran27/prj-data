for each position, record the highest height on its left and on its right. O(n).
