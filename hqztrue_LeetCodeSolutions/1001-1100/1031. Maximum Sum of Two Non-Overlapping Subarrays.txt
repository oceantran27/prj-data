compute left to right and right to left. O(n).
