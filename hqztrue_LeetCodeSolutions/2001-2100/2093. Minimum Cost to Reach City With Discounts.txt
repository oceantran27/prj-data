let k denote the number of discounts.
copy the graph k times. shortest path. O(SSSP(n*k,m*k)).

