1. dfs.
2. precompute the solution.

