sorting + stack. O(sort(n)).

