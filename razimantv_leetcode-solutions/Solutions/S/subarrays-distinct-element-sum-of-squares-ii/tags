Segment tree>Lazy propagation
Array scanning>Location of previous element with same value
